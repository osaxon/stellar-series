---
import PostsGrid from "../../components/PostsGrid";
import { type CollectionEntry, getCollection } from "astro:content";
import PageLayout from "../../layouts/PageLayout.astro";
import { type Post as PostWithSlug } from "../../content/config";
type Post = CollectionEntry<"blog">;
const posts: Post[] = await getCollection("blog");
const postsWithSlug: PostWithSlug[] = posts.map(({ slug, data }) => ({
    slug,
    ...data,
}));
---

<PageLayout title="Blog Posts" description="Blog posts page">
    <h1 class="text-title font-heading font-bold text-secondary-800">
        Oli Saxon
    </h1>
    <p class="text-sub-title font-heading text-secondary-800 mb-10">
        On a ride through the digital world, creating things & occasionally
        breaking things.
    </p>
    <section class="">
        <PostsGrid client:load posts={postsWithSlug} />
    </section>
</PageLayout>
