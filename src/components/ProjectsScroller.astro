---
import { type CollectionEntry, getCollection } from "astro:content";
import { Image } from "astro:assets";
type Project = CollectionEntry<"project">;
let projects: Project[] = await getCollection("project");
---

<section class="full-width">
    <p class="text-sub-title font-heading mb-sm">Some of my work</p>
    <p class="text-paragraph">
        A small selection of projects I've been working on recently. More can be
        found on my <span
            ><a class="underline text-accent" href="https://github.com/osaxon"
                >GitHub</a
            ></span
        >
    </p>
    <article class="relative projects-container full-width scroll-x">
        <ul role="list" class="projects py-4">
            {
                projects &&
                    projects.map((project) => {
                        return (
                            <li class="flex-shrink-0 transition-transform duration-200 origin-top-left border-secondary-100 rounded-lg bg-secondary-50 w-96">
                                <a href={`/projects/${project.slug}`}>
                                    <Image
                                        src={project.data.image ?? ""}
                                        width={800}
                                        height={450}
                                        alt=""
                                        class="aspect-video object-fill rounded border-2 border-secondary"
                                    />
                                </a>
                            </li>
                        );
                    })
            }
        </ul>
    </article>
</section>
