---
import { Square } from "../components/svgs/Square";
---

<button id="themeToggleBtn" data-theme-toggle class="w-10 h-10"
    ><Square /></button
>

<script>
    const themeToggleBtn = document.getElementById("themeToggleBtn");
    const htmlElement = document.documentElement;
    function toggleTheme() {
        const themes = ["light", "dark", "mint-choc"];

        const currentTheme =
            htmlElement.getAttribute("data-theme") || themes[0];
        const currentIndex = themes.indexOf(currentTheme);
        const nextIndex = (currentIndex + 1) % themes.length;
        const nextTheme = themes[nextIndex];

        // Remove the current theme class and add the next one
        themes.forEach((theme) => {
            htmlElement.classList.remove(theme);
        });

        // Add the next theme class
        htmlElement.classList.add(nextTheme);

        // Update the data-theme-toggle attribute
        htmlElement.setAttribute("data-theme", nextTheme);
    }
    if (themeToggleBtn) {
        themeToggleBtn.addEventListener("click", toggleTheme);
    }
</script>
